{"version":3,"file":"index.esm.js","sources":["../../dist/commands/commands/src/index.js"],"sourcesContent":["import { __awaiter } from \"tslib\";\nimport { isAbsolute, resolve } from 'path';\nimport yargs from 'yargs';\nexport function useCommands(api) {\n    return api.config.commands.map((name) => loadCommand(name)(api));\n}\nexport function createCommand(factory) {\n    return factory;\n}\nfunction loadCommand(name) {\n    const mod = require(`@graphql-inspector/${name}-command`);\n    return mod.default || mod;\n}\nexport function ensureAbsolute(filepath, basepath = process.cwd()) {\n    return isAbsolute(filepath) ? filepath : resolve(basepath, filepath);\n}\nexport function parseGlobalArgs(args) {\n    const headers = {};\n    if (args.header) {\n        args.header.forEach((header) => {\n            const [name, ...values] = header.split(':');\n            headers[name] = values.join('');\n        });\n    }\n    if (args.require) {\n        args.require.forEach((mod) => require(mod));\n    }\n    return { headers, token: args.token };\n}\nexport function mockCommand(mod, cmd) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            yargs.command(mod).parse(cmd, (err, _, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    });\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":";;;;AAGO,SAAS,WAAW,CAAC,GAAG,EAAE;AACjC,IAAI,OAAO,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACrE,CAAC;AACM,SAAS,aAAa,CAAC,OAAO,EAAE;AACvC,IAAI,OAAO,OAAO,CAAC;AACnB,CAAC;AACD,SAAS,WAAW,CAAC,IAAI,EAAE;AAC3B,IAAI,MAAM,GAAG,GAAG,OAAO,CAAC,CAAC,mBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC9D,IAAI,OAAO,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC;AAC9B,CAAC;AACM,SAAS,cAAc,CAAC,QAAQ,EAAE,QAAQ,GAAG,OAAO,CAAC,GAAG,EAAE,EAAE;AACnE,IAAI,OAAO,UAAU,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACzE,CAAC;AACM,SAAS,eAAe,CAAC,IAAI,EAAE;AACtC,IAAI,MAAM,OAAO,GAAG,EAAE,CAAC;AACvB,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;AACrB,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;AACxC,YAAY,MAAM,CAAC,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACxD,YAAY,OAAO,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC5C,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;AACtB,QAAQ,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;AACpD,KAAK;AACL,IAAI,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC;AAC1C,CAAC;AACM,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;AACtC,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;AACxD,QAAQ,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AAChD,YAAY,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,MAAM,KAAK;AAC9D,gBAAgB,IAAI,GAAG,EAAE;AACzB,oBAAoB,MAAM,CAAC,GAAG,CAAC,CAAC;AAChC,iBAAiB;AACjB,qBAAqB;AACrB,oBAAoB,OAAO,CAAC,MAAM,CAAC,CAAC;AACpC,iBAAiB;AACjB,aAAa,CAAC,CAAC;AACf,SAAS,CAAC,CAAC;AACX,KAAK,CAAC,CAAC;AACP;;;;"}